description: >
  Sample description
# What will this job do?
# Descriptions should be short, simple, and clear.

parameters:
  circle-token:
    type: env_var_name
    default: "CIRCLE_TOKEN"
    description: >
      Enter your CircleCI Personal Access Token for interacting with the API.
      You may generate one here: https://circleci.com/account/api
  giphy-token:
    type: env_var_name
    default: "GIPHY_TOKEN"
    description: >
      Enter your giphy Personal Access Token for interacting with their API.
      You may generate one here: https://developers.giphy.com/docs/api/
  giphy-success-keyword:
    type: string
    default: "party"
  giphy-failure-keyword:
    type: string
    default: "broken"
  channel:
    type: string
    default: "SLACK_CHANNEL"
    description: "Enter the slack Channel to post to (e.g. C15R5NJ7RM5)"
  workflow-name:
    type: string

machine:
  image: ubuntu-2204:2023.02.1

steps:
  - slack-workflow-monitor:
      workflow-name: << parameters.workflow-name >>
      giphy-success-keyword: << parameters.giphy-success-keyword >>
      giphy-failure-keyword: << parameters.giphy-failure-keyword >>
      channel: << parameters.channel >>
